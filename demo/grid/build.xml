<?xml version="1.0"?>

<project name="JacORB grid demo" default="demo" basedir=".">

    <import file="../common/common-demo.xml" />

    <target name="demo" depends="demo-norm,demo-tiny" />

    <target name="demo-norm" depends="compile" unless="tiny-system-arch" >
        <run-demo>
            <run-server>
                <run-default-server classname="demo.grid.Server" />
            </run-server>

            <run-client>
                <run-default-client classname="demo.grid.Client" />
            </run-client>
        </run-demo>

        <delete file="${ior.file}" />
        <delete file="${killfile.file}" />

        <run-demo>
            <run-server>
                <run-default-server classname="demo.grid.TieServer" />
            </run-server>

            <run-client>
                <run-default-client classname="demo.grid.Client" />
            </run-client>
        </run-demo>
    </target>

    <target name="demo-tiny" if="tiny-system-arch" >
        <run-demo-tiny server="demo.grid.Server" client="demo.grid.Client" />
        <run-demo-tiny server="demo.grid.TieServer" client="demo.grid.Client" />
    </target>

</project>
